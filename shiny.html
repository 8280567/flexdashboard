<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />




<title>Using shiny with flexdashboard</title>

<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<script src="site_libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/cosmo.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<link href="site_libs/font-awesome-4.5.0/css/font-awesome.min.css" rel="stylesheet" />

<script src="libs/ace-1.2.3/ace.js" type="text/javascript" charset="utf-8"></script>
<script src="libs/holder-2.9.0/holder.min.js" type="text/javascript" charset="utf-8"></script>
<script src="snippets/snippets.js" type="text/javascript" charset="utf-8"></script>

<style type="text/css">code{white-space: pre;}</style>
<link rel="stylesheet"
      href="site_libs/highlight/textmate.css"
      type="text/css" />
<script src="site_libs/highlight/highlight.js"></script>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs && document.readyState && document.readyState === "complete") {
   window.setTimeout(function() {
      hljs.initHighlighting();
   }, 0);
}
</script>



<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
</style>

<link rel="stylesheet" href="styles.css" type="text/css" />

</head>

<body>

<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
  height: auto;
}
.tabbed-pane {
  padding-top: 12px;
}
button.code-folding-btn:focus {
  outline: none;
}
</style>

<style type="text/css">
/* padding for bootstrap navbar */
body {
  padding-top: 51px;
  padding-bottom: 40px;
}
/* offset scroll position for anchor links (for fixed navbar)  */
.section h1 {
  padding-top: 56px;
  margin-top: -56px;
}

.section h2 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h3 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h4 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h5 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h6 {
  padding-top: 56px;
  margin-top: -56px;
}
</style>

<script>
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.parent().addClass('active');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');
});
</script>


<div class="container-fluid main-container">

<!-- tabsets -->
<script src="site_libs/navigation-1.0/tabsets.js"></script>
<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});
</script>

<!-- code folding -->




<script>
$(document).ready(function ()  {

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\/?&!#<>]/g, '').replace(/\s/g, '_').toLowerCase();
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = false;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}

.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.9em;
  padding-left: 5px;
}

.tocify .list-group-item {
  border-radius: 0px;
}

.tocify-subheader {
  display: inline;
}
.tocify-subheader .tocify-item {
  font-size: 0.95em;
  padding-left: 10px;
}

</style>

<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row-fluid">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-inverse  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">flexdashboard for R</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">Home</a>
</li>
<li>
  <a href="using.html">Using</a>
</li>
<li>
  <a href="components.html">Components</a>
</li>
<li>
  <a href="shiny.html">Shiny</a>
</li>
<li>
  <a href="layouts.html">Layouts</a>
</li>
<li>
  <a href="examples.html">Examples</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/rstudio/flexdashboard">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div class="fluid-row" id="header">



<h1 class="title toc-ignore">Using shiny with flexdashboard</h1>

</div>


<div id="overview" class="section level2">
<h2>Overview</h2>
<p>By adding <a href="http://shiny.rstudio.com">Shiny</a> to a flexdashboard, you can create dashboards that enable viewers to change underlying parameters and see the results immediately, or that update themselves incrementally as their underlying data changes (see <a href="http://shiny.rstudio.com/reference/shiny/latest/reactiveFileReader.html"><code>reactiveFileReader</code></a> and <a href="http://shiny.rstudio.com/reference/shiny/latest/reactivePoll.html"><code>reactivePoll</code></a>). This is done by adding <code>runtime: shiny</code> to a standard flexdashboard and then adding one or more input controls and/or reactive expressions that dynamically drive the appearance of the charts within the dashboard.</p>
<p>Using Shiny with flexdashboard turns a static R Markdown report into an <a href="http://rmarkdown.rstudio.com/authoring_shiny.html">Interative Document</a>. It’s important to note that interactive documents need to be <a href="http://rmarkdown.rstudio.com/authoring_shiny.html#deployment">deployed</a> to a Shiny Server to be shared broadly (whereas static R Markdown documents are standalone web pages that can be attached to emails or served from any standard web server).</p>
<p>Note that the <a href="https://rstudio.github.io/shinydashboard/">shinydashboard</a> package provides another way to create dashboards with Shiny.</p>
</div>
<div id="requirements" class="section level2">
<h2>Requirements</h2>
<p>The steps required to add Shiny components to a flexdashboard are as follows:</p>
<ol style="list-style-type: decimal">
<li><p>Add <code>runtime: shiny</code> to the options declared at the top of the document (YAML front matter).</p></li>
<li><p>Add the <code>{.sidebar}</code> attribute to the first column of the dashboard to make it a host for Shiny input controls (note this step isn’t strictly required, but most Shiny based dashboards will want to do this).</p></li>
<li><p>Add Shiny inputs and outputs as appropriate.</p></li>
<li><p>When including plots, be sure to wrap them in a call to <a href="http://shiny.rstudio.com/reference/shiny/latest/renderPlot.html">renderPlot</a>. This is important not only for dynamically responding to changes but also to ensure that they are automatically re-sized when their container changes.</p></li>
</ol>
</div>
<div id="using-shiny" class="section level2">
<h2>Using Shiny</h2>
<p>When you use Shiny within a flexdashboard you’ll be making use of both input elements (e.g. sliders, checkboxes, etc.) and output elements (plots, tables, etc.). Input elements are typically presented within a sidebar and outputs within flexdashboard content panes.</p>
<p>You add an input sidebar to a flexdashboard by adding the <code>{.sidebar}</code> attribute to a column, which indicates that it should be laid out flush to the left with a default width of 250 pixels and a special background color.</p>
<div id="simple-example" class="section level3">
<h3>Simple Example</h3>
<p>Here is a simple flexdashboard which makes use of Shiny inputs and outputs:</p>
<p><img src="images/ShinyDygraphs.png" width="865" height="745"/></p>
<p>The source code for the example is presented below. The first column (“Inputs”) includes the <code>{.sidebar}</code> attribute and the Shiny input controls; the second column (“Outputs”) includes the Shiny code required to render the chart based on the inputs.</p>
<div id="shinycode">

</div>
<script type="text/javascript">loadSnippet('shinycode')</script>
</div>
<div id="input-sidebar" class="section level3">
<h3>Input Sidebar</h3>
<p>You add an input sidebar to a flexdashboard by adding the <code>{.sidebar}</code> attribute to a column, which indicates that it should be laid out flush to the left with a default width of 250 pixels and a special background color. Sidebars always appear on the left no matter where they are defined within the flow of the document.</p>
<p>You can alter the default width of the sidebar using the <code>data-width</code> attribute, for example:</p>
<div id="sidebarwidth">

</div>
<script type="text/javascript">loadSnippet('sidebarwidth')</script>
<div id="global-sidebar" class="section level4">
<h4>Global Sidebar</h4>
<p>If you are creating a flexdashboard with <a href="using.html#multiple-pages">Multiple Pages</a> you may want to use a single sidebar that applies across all pages. In this case you should define the sidebar using a level 1 markdown header (the same as is used to define pages).</p>
<p>For example, this dashboard includes a global sidebar:</p>
<div id="sidebarmultiplepages">

</div>
<script type="text/javascript">loadSnippet('sidebarmultiplepages')</script>
</div>
</div>
</div>
<div id="embedded-apps" class="section level2">
<h2>Embedded Apps</h2>
<p>The example above illustrates how to add Shiny components inline within a flexdashboard. It’s also possible to embed an entire Shiny application as a flexdashboard component. The application can be either defined inline using the <code>shinyApp</code> function or can be defined externally and included using the <code>shinyAppDir</code> function. Both of these options are described below. See also this simple <a href="https://beta.rstudioconnect.com/jjallaire/shiny-embedded-apps/">example application</a> which uses both techniques.</p>
<div id="inline-definition" class="section level3">
<h3>Inline Definition</h3>
<p>While Shiny applications are often defined in standalone R source files (e.g. ui.R and server.R) it’s also possible to define a full application inline using the <a href="http://shiny.rstudio.com/reference/shiny/latest/shinyApp.html"><code>shinyApp</code></a> function.</p>
<p>You can embed inline Shiny applications within a flexdashboard. For example, the following code chunk defines a simple Shiny application consisting of a select input and a plot:</p>
<div id="shinyembeddedinline">

</div>
<script type="text/javascript">loadSnippet('shinyembeddedinline')</script>
</div>
<div id="external-definition" class="section level3">
<h3>External Definition</h3>
<p>It’s also possible to include a Shiny application defined in an external directory within a flexdashboard. For example, the following code chunk includes one of the Shiny example applications:</p>
<div id="shinyembeddedexternal">

</div>
<script type="text/javascript">loadSnippet('shinyembeddedexternal')</script>
</div>
<div id="layout-constraints" class="section level3">
<h3>Layout Constraints</h3>
<p>When you embed a Shiny application using either of the above techniques you need to provide it with a specific height (e.g. the <code>options = list(height = 600)</code> code at the end of the first example). Furthermore, you need to ensure that this height is adequate to display the application even in mobile layouts where the sidebar might be above rather than to the left of the main display.</p>
<p>As a result of these constraints, it’s usually best to do one of the following:</p>
<ol style="list-style-type: decimal">
<li><p>Display embedded Shiny applications either on their own dashboard page or within a full height dashboard column; or</p></li>
<li><p>Use <a href="using.html#scrolling-layout"><code>vertical_layout: scroll</code></a> to allow embedded applications to occupy exactly their specified height (pushing other components down below the fold if need be).</p></li>
</ol>
<p>Another possible solution is to use the <a href="https://github.com/rstudio/miniUI"><code>miniUI</code></a> package as described in the section below.</p>
</div>
<div id="layout-with-miniui" class="section level3">
<h3>Layout with miniUI</h3>
<p>The <a href="https://github.com/rstudio/miniUI"><code>miniUI</code></a> package is an alternative layout system for Shiny applications that does a better job automatically sizing itself to it’s enclosing container than traditional Shiny layouts. This is accomplished via the use of <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Flexible_Box_Layout/Using_CSS_flexible_boxes">flexbox</a> (the same layout system used by flexdashboard).</p>
<p>The miniUI package was originally designed for creating <a href="http://shiny.rstudio.com/articles/gadgets.html">Shiny Gadgets</a> but it’s also useful for flexdashboard. For example, here’s the initial example of an inline Shiny application re-written to use miniUI:</p>
<div id="shinyembeddedminiui">

</div>
<script type="text/javascript">loadSnippet('shinyembeddedminiui')</script>
<p>Note the specification of <code>height = &quot;100%&quot;</code> in a couple of places with the application’s layout. This is what ensures that the application takes all available vertical space.</p>
<p>See the <a href="http://shiny.rstudio.com/articles/gadget-ui.html">miniUI documentation</a> for additional details. See the also this <a href="https://beta.rstudioconnect.com/jjallaire/shiny-mini-ui/">example application</a> which includes the code above in the context of a full flexdashboard.</p>
</div>
</div>
<div id="examples" class="section level2">
<h2>Examples</h2>
<p>Several examples are available to help you learn more about using Shiny with flexdashboard (each example includes full source code):</p>
<ol style="list-style-type: decimal">
<li><p><a href="https://jjallaire.shinyapps.io/shiny-kmeans/">Iris K-Means Clustering</a></p></li>
<li><p><a href="https://jjallaire.shinyapps.io/shiny-ggplot2-brushing/">Linked Brushing with ggplot2</a></p></li>
<li><p><a href="https://beta.rstudioconnect.com/jjallaire/shiny-embedded-apps/">Embedded Shiny Apps</a></p></li>
<li><p><a href="https://beta.rstudioconnect.com/jjallaire/shiny-mini-ui/">Shiny miniUI Layout</a></p></li>
<li><p><a href="https://jjallaire.shinyapps.io/shiny-crandash/">CRAN Download Monitor</a></p></li>
<li><p><a href="https://jjallaire.shinyapps.io/shiny-biclust/">Gene Expression Biclustering</a></p></li>
</ol>
</div>
<div id="learning-more" class="section level2">
<h2>Learning More</h2>
<p>The following articles are excellent resources for learning more about Shiny and creating interactive documents:</p>
<ol style="list-style-type: decimal">
<li><p>The <a href="http://shiny.rstudio.com/articles/interactive-docs.html">Introduction to Interactive Documents</a> article provides a great resources for getting started with Shiny and R Markdown.</p></li>
<li><p>The <a href="http://rmarkdown.rstudio.com/authoring_shiny.html">Interactive Documents</a> article on the R Markdown web site provides additional introductory material as well as information on deploying interactive documents.</p></li>
<li><p>The <a href="http://shiny.rstudio.com">Shiny Dev Center</a> includes extensive articles, tutorials, and examples to help you learn more about Shiny.</p></li>
</ol>
</div>



</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
$(document).ready(function () {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
});

</script>


</body>
</html>
